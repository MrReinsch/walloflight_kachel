/** \brief BAM Header - Defines and Prototypes
 * \file		bam.h
 * \author  	Rene Reinsch
 * \date		10.11.2013
 * \version  	Rev. 3.1 22.2.2014
 *
 * \details		Defines for Timer16, TLC Bitbanging, TLC LATCH/BLANK
 *				\nDefines for remapping and the lookuptable
 */

#include <avr/io.h>
#include <avr/interrupt.h>

#ifndef BAM_H_
#define BAM_H_
// BAM timer overflow value
#define BAM_TIMER_MAX 0xFFFF
// BAM factor n^2*factor
#define BAM_TMR_STP_SIZE 50 // t Bam = (fosc/8)/(128*BAM_TMR_STP_SIZE*2)  
// TIMER RELOAD VALUES for BAM -- keep in mind msb will be processed first
#define BAM_TMR_RLD_STP_7 (BAM_TIMER_MAX-BAM_TMR_STP_SIZE*1)
#define BAM_TMR_RLD_STP_6 (BAM_TIMER_MAX-BAM_TMR_STP_SIZE*2)
#define BAM_TMR_RLD_STP_5 (BAM_TIMER_MAX-BAM_TMR_STP_SIZE*4)
#define BAM_TMR_RLD_STP_4 (BAM_TIMER_MAX-BAM_TMR_STP_SIZE*8)
#define BAM_TMR_RLD_STP_3 (BAM_TIMER_MAX-BAM_TMR_STP_SIZE*16)
#define BAM_TMR_RLD_STP_2 (BAM_TIMER_MAX-BAM_TMR_STP_SIZE*32)
#define BAM_TMR_RLD_STP_1 (BAM_TIMER_MAX-BAM_TMR_STP_SIZE*64)
#define BAM_TMR_RLD_STP_0 (BAM_TIMER_MAX-BAM_TMR_STP_SIZE*128)
// l and h byte for atomic access
#define BAM_TMR_RLD_STP_0_L (BAM_TMR_RLD_STP_0 & 0x00FF)
#define BAM_TMR_RLD_STP_1_L (BAM_TMR_RLD_STP_1 & 0x00FF)
#define BAM_TMR_RLD_STP_2_L (BAM_TMR_RLD_STP_2 & 0x00FF)
#define BAM_TMR_RLD_STP_3_L (BAM_TMR_RLD_STP_3 & 0x00FF)
#define BAM_TMR_RLD_STP_4_L (BAM_TMR_RLD_STP_4 & 0x00FF)
#define BAM_TMR_RLD_STP_5_L (BAM_TMR_RLD_STP_5 & 0x00FF)
#define BAM_TMR_RLD_STP_6_L (BAM_TMR_RLD_STP_6 & 0x00FF)
#define BAM_TMR_RLD_STP_7_L (BAM_TMR_RLD_STP_7 & 0x00FF)
#define BAM_TMR_RLD_STP_0_H ((BAM_TMR_RLD_STP_0>>8) & 0x00FF)
#define BAM_TMR_RLD_STP_1_H ((BAM_TMR_RLD_STP_1>>8) & 0x00FF)
#define BAM_TMR_RLD_STP_2_H ((BAM_TMR_RLD_STP_2>>8) & 0x00FF)
#define BAM_TMR_RLD_STP_3_H ((BAM_TMR_RLD_STP_3>>8) & 0x00FF)
#define BAM_TMR_RLD_STP_4_H ((BAM_TMR_RLD_STP_4>>8) & 0x00FF)
#define BAM_TMR_RLD_STP_5_H ((BAM_TMR_RLD_STP_5>>8) & 0x00FF)
#define BAM_TMR_RLD_STP_6_H ((BAM_TMR_RLD_STP_6>>8) & 0x00FF)
#define BAM_TMR_RLD_STP_7_H ((BAM_TMR_RLD_STP_7>>8) & 0x00FF)
// number of BAM steps per cycle 
#define BAM_STEPS 8
// number of Led's per I/O
#define BAM_STRING_SIZE 32
// BAM Memory size table for soft spi
#define BAM_MEM_SIZE (BAM_STRING_SIZE*BAM_STEPS)
// BAM position map for BAM memory access, top at first
#define BAM_TBL_POS_STEP_0 ( BAM_STRING_SIZE*7 )
#define BAM_TBL_POS_STEP_1 ( BAM_STRING_SIZE*6 )
#define BAM_TBL_POS_STEP_2 ( BAM_STRING_SIZE*5 )
#define BAM_TBL_POS_STEP_3 ( BAM_STRING_SIZE*4 ) 
#define BAM_TBL_POS_STEP_4 ( BAM_STRING_SIZE*3 )
#define BAM_TBL_POS_STEP_5 ( BAM_STRING_SIZE*2 )
#define BAM_TBL_POS_STEP_6 ( BAM_STRING_SIZE*1 )
#define BAM_TBL_POS_STEP_7 ( BAM_STRING_SIZE*0 )
// I/O port softsp,lat, blank
#define SCK_PORT_DDR DDRC
#define SCK_PORT PORTC
#define DATA_PORT_DDR DDRD
#define DATA_PORT PORTD
#define LAT_PORT_DDR DDRD
#define LAT_PORT PORTD
#define BLANK_PORT_DDR DDRD
#define BLANK_PORT PORTD
// PINS
// SCK
#define SCK0_PIN 0 
#define SCK1_PIN 1
#define SCK2_PIN 2
#define SCK3_PIN 3
#define SCK4_PIN 4
#define SCK5_PIN 5
// DATA
#define DATA_PIN0 0
#define DATA_PIN1 1
#define DATA_PIN2 2
#define DATA_PIN3 3
#define DATA_PIN4 4
#define DATA_PIN5 5
// LATCH
#define LAT_PIN 6
// BLANK
#define BLANK_PIN 7
// init masks
#define SCK_PORT_DDR_MASK ((1<<SCK0_PIN)|(1<<SCK1_PIN)|(1<<SCK2_PIN)|(1<<SCK3_PIN)|(1<<SCK4_PIN)|(1<<SCK5_PIN))
#define SCK_PORT_MASK ((1<<SCK0_PIN)|(1<<SCK1_PIN)|(1<<SCK2_PIN)|(1<<SCK3_PIN)|(1<<SCK4_PIN)|(1<<SCK5_PIN))
#define DATA_PORT_DDR_MASK ((1<<DATA_PIN0)|(1<<DATA_PIN1)|(1<<DATA_PIN2)|(1<<DATA_PIN3)|(1<<DATA_PIN4)|(1<<DATA_PIN5))
#define LAT_PORT_DDR_MASK (1<<LAT_PIN)
#define BLANK_PORT_DDR_MASK (1<<BLANK_PIN)
#define DATA_PORT_MASK 0x00
#define LAT_PORT_MASK (1<<LAT_PIN)
#define LAT_SET (1<<LAT_PIN) 
#define BLANK_PORT_MASK (1<<BLANK_PIN)
#define BLANK_PORT_SET BLANK_PORT_MASK
#define LAT_RESET 0x00
// timer 16 bit
#define TIMER_16_CTRL_A TCCR1A
#define TIMER_16_CTRL_B TCCR1B
#define TIMER_16_CTRL_C TCCR1C
#define TIMER_16_IMR TIMSK1
#define TIMER_16_CTRL_A_MASK 0x00 // normal operation
#define TIMER_16_CTRL_B_MASK ((1<<CS11)) // Clock div 8 
#define TIMER_16_CTRL_C_MASK 0x00
#define TIMER_16_IMR_MASK ((1<<TOIE1))//enable overflow isr
#define TIMER_16_CNTR TCNT1 
#define TIMER_16_CNTR_L TCNT1L
#define TIMER_16_CNTR_H TCNT1H
#define TIMER_16_vect TIMER1_OVF_vect
#define TIMER_16_STOP_TIMER 0x00
#define TIMER_16_START_TIMER TIMER_16_CTRL_B_MASK
// BAM
#define SOFT_SPI_H_TIME 0.15 
#define SOFT_SPI_L_TIME 0.03
// Mapping for LookUpTable
#define LED_0_0_R  116
#define LED_0_0_G  118
#define LED_0_0_B  114
#define LED_1_0_R  140
#define LED_1_0_G  142
#define LED_1_0_B  138
#define LED_2_0_R  164
#define LED_2_0_G  166
#define LED_2_0_B  162
#define LED_3_0_R  188
#define LED_3_0_G  190
#define LED_3_0_B  186
#define LED_4_0_R  20
#define LED_4_0_G  22
#define LED_4_0_B  18
#define LED_5_0_R  44
#define LED_5_0_G  46
#define LED_5_0_B  42
#define LED_6_0_R  68
#define LED_6_0_G  70
#define LED_6_0_B  66
#define LED_7_0_R  92
#define LED_7_0_G  94
#define LED_7_0_B  90
// sec row
#define LED_0_1_R 110
#define LED_0_1_G 112
#define LED_0_1_B 108
#define LED_1_1_R 134
#define LED_1_1_G 136
#define LED_1_1_B 132
#define LED_2_1_R 158
#define LED_2_1_G 160
#define LED_2_1_B 156
#define LED_3_1_R 182
#define LED_3_1_G 184
#define LED_3_1_B 180
#define LED_4_1_R 14
#define LED_4_1_G 16
#define LED_4_1_B 12
#define LED_5_1_R 38
#define LED_5_1_G 40
#define LED_5_1_B 36
#define LED_6_1_R 62
#define LED_6_1_G 64
#define LED_6_1_B 60
#define LED_7_1_R 86
#define LED_7_1_G 88
#define LED_7_1_B 84
// third row
#define LED_0_2_R 104
#define LED_0_2_G 106
#define LED_0_2_B 102
#define LED_1_2_R 128
#define LED_1_2_G 130
#define LED_1_2_B 126
#define LED_2_2_R 152
#define LED_2_2_G 154
#define LED_2_2_B 150
#define LED_3_2_R 176
#define LED_3_2_G 178
#define LED_3_2_B 174
#define LED_4_2_R 8
#define LED_4_2_G 10
#define LED_4_2_B 6
#define LED_5_2_R 32
#define LED_5_2_G 34
#define LED_5_2_B 30
#define LED_6_2_R 56
#define LED_6_2_G 58
#define LED_6_2_B 54
#define LED_7_2_R 80
#define LED_7_2_G 82
#define LED_7_2_B 78
// 4th row
#define LED_0_3_R 98
#define LED_0_3_G 100
#define LED_0_3_B 96
#define LED_1_3_R 122
#define LED_1_3_G 124
#define LED_1_3_B 120
#define LED_2_3_R 146
#define LED_2_3_G 148
#define LED_2_3_B 144
#define LED_3_3_R 170
#define LED_3_3_G 172
#define LED_3_3_B 168
#define LED_4_3_R 2
#define LED_4_3_G 4
#define LED_4_3_B 0
#define LED_5_3_R 26
#define LED_5_3_G 28
#define LED_5_3_B 24
#define LED_6_3_R 50
#define LED_6_3_G 52
#define LED_6_3_B 48
#define LED_7_3_R 74
#define LED_7_3_G 76
#define LED_7_3_B 72
// 5th row
#define LED_0_4_R 117
#define LED_0_4_G 119
#define LED_0_4_B 115
#define LED_1_4_R 141
#define LED_1_4_G 143
#define LED_1_4_B 139
#define LED_2_4_R 165
#define LED_2_4_G 167
#define LED_2_4_B 163
#define LED_3_4_R 189
#define LED_3_4_G 191
#define LED_3_4_B 187
#define LED_4_4_R 21
#define LED_4_4_G 23
#define LED_4_4_B 19
#define LED_5_4_R 45
#define LED_5_4_G 47
#define LED_5_4_B 43
#define LED_6_4_R 69
#define LED_6_4_G 71
#define LED_6_4_B 67
#define LED_7_4_R 93
#define LED_7_4_G 95
#define LED_7_4_B 91
// 6th row
#define LED_0_5_R 111
#define LED_0_5_G 113
#define LED_0_5_B 109
#define LED_1_5_R 135
#define LED_1_5_G 137
#define LED_1_5_B 133
#define LED_2_5_R 159
#define LED_2_5_G 161
#define LED_2_5_B 157
#define LED_3_5_R 183
#define LED_3_5_G 185
#define LED_3_5_B 181
#define LED_4_5_R 15
#define LED_4_5_G 17
#define LED_4_5_B 13
#define LED_5_5_R 39
#define LED_5_5_G 41
#define LED_5_5_B 37
#define LED_6_5_R 63
#define LED_6_5_G 65
#define LED_6_5_B 61
#define LED_7_5_R 87
#define LED_7_5_G 89
#define LED_7_5_B 85
// 7th Row
#define LED_0_6_R 105
#define LED_0_6_G 107
#define LED_0_6_B 103
#define LED_1_6_R 129
#define LED_1_6_G 131
#define LED_1_6_B 127
#define LED_2_6_R 153
#define LED_2_6_G 155
#define LED_2_6_B 151
#define LED_3_6_R 177
#define LED_3_6_G 179
#define LED_3_6_B 175
#define LED_4_6_R 9
#define LED_4_6_G 11
#define LED_4_6_B 7
#define LED_5_6_R 33
#define LED_5_6_G 35
#define LED_5_6_B 31
#define LED_6_6_R 57
#define LED_6_6_G 59
#define LED_6_6_B 55
#define LED_7_6_R 81
#define LED_7_6_G 83
#define LED_7_6_B 79
// 8th row
#define LED_0_7_R 99
#define LED_0_7_G 101
#define LED_0_7_B 97
#define LED_1_7_R 123
#define LED_1_7_G 125
#define LED_1_7_B 121
#define LED_2_7_R 147
#define LED_2_7_G 149
#define LED_2_7_B 145
#define LED_3_7_R 171
#define LED_3_7_G 173
#define LED_3_7_B 169
#define LED_4_7_R 3
#define LED_4_7_G 5
#define LED_4_7_B 1
#define LED_5_7_R 27
#define LED_5_7_G 29
#define LED_5_7_B 25
#define LED_6_7_R 51
#define LED_6_7_G 53
#define LED_6_7_B 49
#define LED_7_7_R 75
#define LED_7_7_G 77
#define LED_7_7_B 73
// Mapping for LookUpTable Byte Position BAM Table
#define LED_0_0_R_BYTE_POS (LED_0_0_R/6)
#define LED_0_0_G_BYTE_POS (LED_0_0_G/6)
#define LED_0_0_B_BYTE_POS (LED_0_0_B/6)
#define LED_1_0_R_BYTE_POS (LED_1_0_R/6)
#define LED_1_0_G_BYTE_POS (LED_1_0_G/6)
#define LED_1_0_B_BYTE_POS (LED_1_0_B/6)
#define LED_2_0_R_BYTE_POS (LED_2_0_R/6)
#define LED_2_0_G_BYTE_POS (LED_2_0_G/6)
#define LED_2_0_B_BYTE_POS (LED_2_0_B/6)
#define LED_3_0_R_BYTE_POS (LED_3_0_R/6)
#define LED_3_0_G_BYTE_POS (LED_3_0_G/6)
#define LED_3_0_B_BYTE_POS (LED_3_0_B/6)
#define LED_4_0_R_BYTE_POS (LED_4_0_R/6)
#define LED_4_0_G_BYTE_POS (LED_4_0_G/6)
#define LED_4_0_B_BYTE_POS (LED_4_0_B/6)
#define LED_5_0_R_BYTE_POS (LED_5_0_R/6)
#define LED_5_0_G_BYTE_POS (LED_5_0_G/6)
#define LED_5_0_B_BYTE_POS (LED_5_0_B/6)
#define LED_6_0_R_BYTE_POS (LED_6_0_R/6)
#define LED_6_0_G_BYTE_POS (LED_6_0_G/6)
#define LED_6_0_B_BYTE_POS (LED_6_0_B/6)
#define LED_7_0_R_BYTE_POS (LED_7_0_R/6)
#define LED_7_0_G_BYTE_POS (LED_7_0_G/6)
#define LED_7_0_B_BYTE_POS (LED_7_0_B/6)
// sec row
#define LED_0_1_R_BYTE_POS (LED_0_1_R/6)
#define LED_0_1_G_BYTE_POS (LED_0_1_G/6)
#define LED_0_1_B_BYTE_POS (LED_0_1_B/6)
#define LED_1_1_R_BYTE_POS (LED_1_1_R/6)
#define LED_1_1_G_BYTE_POS (LED_1_1_G/6)
#define LED_1_1_B_BYTE_POS (LED_1_1_B/6)
#define LED_2_1_R_BYTE_POS (LED_2_1_R/6)
#define LED_2_1_G_BYTE_POS (LED_2_1_G/6)
#define LED_2_1_B_BYTE_POS (LED_2_1_B/6)
#define LED_3_1_R_BYTE_POS (LED_3_1_R/6)
#define LED_3_1_G_BYTE_POS (LED_3_1_G/6)
#define LED_3_1_B_BYTE_POS (LED_3_1_B/6)
#define LED_4_1_R_BYTE_POS (LED_4_1_R/6)
#define LED_4_1_G_BYTE_POS (LED_4_1_G/6)
#define LED_4_1_B_BYTE_POS (LED_4_1_B/6)
#define LED_5_1_R_BYTE_POS (LED_5_1_R/6)
#define LED_5_1_G_BYTE_POS (LED_5_1_G/6)
#define LED_5_1_B_BYTE_POS (LED_5_1_B/6)
#define LED_6_1_R_BYTE_POS (LED_6_1_R/6)
#define LED_6_1_G_BYTE_POS (LED_6_1_G/6)
#define LED_6_1_B_BYTE_POS (LED_6_1_B/6)
#define LED_7_1_R_BYTE_POS (LED_7_1_R/6)
#define LED_7_1_G_BYTE_POS (LED_7_1_G/6)
#define LED_7_1_B_BYTE_POS (LED_7_1_B/6)
// third row
#define LED_0_2_R_BYTE_POS (LED_0_2_R/6)
#define LED_0_2_G_BYTE_POS (LED_0_2_G/6)
#define LED_0_2_B_BYTE_POS (LED_0_2_B/6)
#define LED_1_2_R_BYTE_POS (LED_1_2_R/6)
#define LED_1_2_G_BYTE_POS (LED_1_2_G/6)
#define LED_1_2_B_BYTE_POS (LED_1_2_B/6)
#define LED_2_2_R_BYTE_POS (LED_2_2_R/6)
#define LED_2_2_G_BYTE_POS (LED_2_2_G/6)
#define LED_2_2_B_BYTE_POS (LED_2_2_B/6)
#define LED_3_2_R_BYTE_POS (LED_3_2_R/6)
#define LED_3_2_G_BYTE_POS (LED_3_2_G/6)
#define LED_3_2_B_BYTE_POS (LED_3_2_B/6)
#define LED_4_2_R_BYTE_POS (LED_4_2_R/6)
#define LED_4_2_G_BYTE_POS (LED_4_2_G/6)
#define LED_4_2_B_BYTE_POS (LED_4_2_B/6)
#define LED_5_2_R_BYTE_POS (LED_5_2_R/6)
#define LED_5_2_G_BYTE_POS (LED_5_2_G/6)
#define LED_5_2_B_BYTE_POS (LED_5_2_B/6)
#define LED_6_2_R_BYTE_POS (LED_6_2_R/6)
#define LED_6_2_G_BYTE_POS (LED_6_2_G/6)
#define LED_6_2_B_BYTE_POS (LED_6_2_B/6)
#define LED_7_2_R_BYTE_POS (LED_7_2_R/6)
#define LED_7_2_G_BYTE_POS (LED_7_2_G/6)
#define LED_7_2_B_BYTE_POS (LED_7_2_B/6)
// 4th row
#define LED_0_3_R_BYTE_POS (LED_0_3_R/6)
#define LED_0_3_G_BYTE_POS (LED_0_3_G/6)
#define LED_0_3_B_BYTE_POS (LED_0_3_B/6)
#define LED_1_3_R_BYTE_POS (LED_1_3_R/6)
#define LED_1_3_G_BYTE_POS (LED_1_3_G/6)
#define LED_1_3_B_BYTE_POS (LED_1_3_B/6)
#define LED_2_3_R_BYTE_POS (LED_2_3_R/6)
#define LED_2_3_G_BYTE_POS (LED_2_3_G/6)
#define LED_2_3_B_BYTE_POS (LED_2_3_B/6)
#define LED_3_3_R_BYTE_POS (LED_3_3_R/6)
#define LED_3_3_G_BYTE_POS (LED_3_3_G/6)
#define LED_3_3_B_BYTE_POS (LED_3_3_B/6)
#define LED_4_3_R_BYTE_POS (LED_4_3_R/6)
#define LED_4_3_G_BYTE_POS (LED_4_3_G/6)
#define LED_4_3_B_BYTE_POS (LED_4_3_B/6)
#define LED_5_3_R_BYTE_POS (LED_5_3_R/6)
#define LED_5_3_G_BYTE_POS (LED_5_3_G/6)
#define LED_5_3_B_BYTE_POS (LED_5_3_B/6)
#define LED_6_3_R_BYTE_POS (LED_6_3_R/6)
#define LED_6_3_G_BYTE_POS (LED_6_3_G/6)
#define LED_6_3_B_BYTE_POS (LED_6_3_B/6)
#define LED_7_3_R_BYTE_POS (LED_7_3_R/6)
#define LED_7_3_G_BYTE_POS (LED_7_3_G/6)
#define LED_7_3_B_BYTE_POS (LED_7_3_B/6)
// 5th row
#define LED_0_4_R_BYTE_POS (LED_0_4_R/6)
#define LED_0_4_G_BYTE_POS (LED_0_4_G/6)
#define LED_0_4_B_BYTE_POS (LED_0_4_B/6)
#define LED_1_4_R_BYTE_POS (LED_1_4_R/6)
#define LED_1_4_G_BYTE_POS (LED_1_4_G/6)
#define LED_1_4_B_BYTE_POS (LED_1_4_B/6)
#define LED_2_4_R_BYTE_POS (LED_2_4_R/6)
#define LED_2_4_G_BYTE_POS (LED_2_4_G/6)
#define LED_2_4_B_BYTE_POS (LED_2_4_B/6)
#define LED_3_4_R_BYTE_POS (LED_3_4_R/6)
#define LED_3_4_G_BYTE_POS (LED_3_4_G/6)
#define LED_3_4_B_BYTE_POS (LED_3_4_B/6)
#define LED_4_4_R_BYTE_POS (LED_4_4_R/6)
#define LED_4_4_G_BYTE_POS (LED_4_4_G/6)
#define LED_4_4_B_BYTE_POS (LED_4_4_B/6)
#define LED_5_4_R_BYTE_POS (LED_5_4_R/6)
#define LED_5_4_G_BYTE_POS (LED_5_4_G/6)
#define LED_5_4_B_BYTE_POS (LED_5_4_B/6)
#define LED_6_4_R_BYTE_POS (LED_6_4_R/6)
#define LED_6_4_G_BYTE_POS (LED_6_4_G/6)
#define LED_6_4_B_BYTE_POS (LED_6_4_B/6)
#define LED_7_4_R_BYTE_POS (LED_7_4_R/6)
#define LED_7_4_G_BYTE_POS (LED_7_4_G/6)
#define LED_7_4_B_BYTE_POS (LED_7_4_B/6)
// 6th row
#define LED_0_5_R_BYTE_POS (LED_0_5_R/6)
#define LED_0_5_G_BYTE_POS (LED_0_5_G/6)
#define LED_0_5_B_BYTE_POS (LED_0_5_B/6)
#define LED_1_5_R_BYTE_POS (LED_1_5_R/6)
#define LED_1_5_G_BYTE_POS (LED_1_5_G/6)
#define LED_1_5_B_BYTE_POS (LED_1_5_B/6)
#define LED_2_5_R_BYTE_POS (LED_2_5_R/6)
#define LED_2_5_G_BYTE_POS (LED_2_5_G/6)
#define LED_2_5_B_BYTE_POS (LED_2_5_B/6)
#define LED_3_5_R_BYTE_POS (LED_3_5_R/6)
#define LED_3_5_G_BYTE_POS (LED_3_5_G/6)
#define LED_3_5_B_BYTE_POS (LED_3_5_B/6)
#define LED_4_5_R_BYTE_POS (LED_4_5_R/6)
#define LED_4_5_G_BYTE_POS (LED_4_5_G/6)
#define LED_4_5_B_BYTE_POS (LED_4_5_B/6)
#define LED_5_5_R_BYTE_POS (LED_5_5_R/6)
#define LED_5_5_G_BYTE_POS (LED_5_5_G/6)
#define LED_5_5_B_BYTE_POS (LED_5_5_B/6)
#define LED_6_5_R_BYTE_POS (LED_6_5_R/6)
#define LED_6_5_G_BYTE_POS (LED_6_5_G/6)
#define LED_6_5_B_BYTE_POS (LED_6_5_B/6)
#define LED_7_5_R_BYTE_POS (LED_7_5_R/6)
#define LED_7_5_G_BYTE_POS (LED_7_5_G/6)
#define LED_7_5_B_BYTE_POS (LED_7_5_B/6)
// 7th Row
#define LED_0_6_R_BYTE_POS (LED_0_6_R/6)
#define LED_0_6_G_BYTE_POS (LED_0_6_G/6)
#define LED_0_6_B_BYTE_POS (LED_0_6_B/6)
#define LED_1_6_R_BYTE_POS (LED_1_6_R/6)
#define LED_1_6_G_BYTE_POS (LED_1_6_G/6)
#define LED_1_6_B_BYTE_POS (LED_1_6_B/6)
#define LED_2_6_R_BYTE_POS (LED_2_6_R/6)
#define LED_2_6_G_BYTE_POS (LED_2_6_G/6)
#define LED_2_6_B_BYTE_POS (LED_2_6_B/6)
#define LED_3_6_R_BYTE_POS (LED_3_6_R/6)
#define LED_3_6_G_BYTE_POS (LED_3_6_G/6)
#define LED_3_6_B_BYTE_POS (LED_3_6_B/6)
#define LED_4_6_R_BYTE_POS (LED_4_6_R/6)
#define LED_4_6_G_BYTE_POS (LED_4_6_G/6)
#define LED_4_6_B_BYTE_POS (LED_4_6_B/6)
#define LED_5_6_R_BYTE_POS (LED_5_6_R/6)
#define LED_5_6_G_BYTE_POS (LED_5_6_G/6)
#define LED_5_6_B_BYTE_POS (LED_5_6_B/6)
#define LED_6_6_R_BYTE_POS (LED_6_6_R/6)
#define LED_6_6_G_BYTE_POS (LED_6_6_G/6)
#define LED_6_6_B_BYTE_POS (LED_6_6_B/6)
#define LED_7_6_R_BYTE_POS (LED_7_6_R/6)
#define LED_7_6_G_BYTE_POS (LED_7_6_G/6)
#define LED_7_6_B_BYTE_POS (LED_7_6_B/6)
// 8th row
#define LED_0_7_R_BYTE_POS (LED_0_7_R/6)
#define LED_0_7_G_BYTE_POS (LED_0_7_G/6)
#define LED_0_7_B_BYTE_POS (LED_0_7_B/6)
#define LED_1_7_R_BYTE_POS (LED_1_7_R/6)
#define LED_1_7_G_BYTE_POS (LED_1_7_G/6)
#define LED_1_7_B_BYTE_POS (LED_1_7_B/6)
#define LED_2_7_R_BYTE_POS (LED_2_7_R/6)
#define LED_2_7_G_BYTE_POS (LED_2_7_G/6)
#define LED_2_7_B_BYTE_POS (LED_2_7_B/6)
#define LED_3_7_R_BYTE_POS (LED_3_7_R/6)
#define LED_3_7_G_BYTE_POS (LED_3_7_G/6)
#define LED_3_7_B_BYTE_POS (LED_3_7_B/6)
#define LED_4_7_R_BYTE_POS (LED_4_7_R/6)
#define LED_4_7_G_BYTE_POS (LED_4_7_G/6)
#define LED_4_7_B_BYTE_POS (LED_4_7_B/6)
#define LED_5_7_R_BYTE_POS (LED_5_7_R/6)
#define LED_5_7_G_BYTE_POS (LED_5_7_G/6)
#define LED_5_7_B_BYTE_POS (LED_5_7_B/6)
#define LED_6_7_R_BYTE_POS (LED_6_7_R/6)
#define LED_6_7_G_BYTE_POS (LED_6_7_G/6)
#define LED_6_7_B_BYTE_POS (LED_6_7_B/6)
#define LED_7_7_R_BYTE_POS (LED_7_7_R/6)
#define LED_7_7_G_BYTE_POS (LED_7_7_G/6)
#define LED_7_7_B_BYTE_POS (LED_7_7_B/6)
// Mapping for LookUpTable Bit Position MASK BAM Table
#define LED_0_0_R_BIT_POS_MASK (1<<(LED_0_0_R%6))
#define LED_0_0_G_BIT_POS_MASK (1<<(LED_0_0_G%6))
#define LED_0_0_B_BIT_POS_MASK (1<<(LED_0_0_B%6))
#define LED_1_0_R_BIT_POS_MASK (1<<(LED_1_0_R%6))
#define LED_1_0_G_BIT_POS_MASK (1<<(LED_1_0_G%6))
#define LED_1_0_B_BIT_POS_MASK (1<<(LED_1_0_B%6))
#define LED_2_0_R_BIT_POS_MASK (1<<(LED_2_0_R%6))
#define LED_2_0_G_BIT_POS_MASK (1<<(LED_2_0_G%6))
#define LED_2_0_B_BIT_POS_MASK (1<<(LED_2_0_B%6))
#define LED_3_0_R_BIT_POS_MASK (1<<(LED_3_0_R%6))
#define LED_3_0_G_BIT_POS_MASK (1<<(LED_3_0_G%6))
#define LED_3_0_B_BIT_POS_MASK (1<<(LED_3_0_B%6))
#define LED_4_0_R_BIT_POS_MASK (1<<(LED_4_0_R%6))
#define LED_4_0_G_BIT_POS_MASK (1<<(LED_4_0_G%6))
#define LED_4_0_B_BIT_POS_MASK (1<<(LED_4_0_B%6))
#define LED_5_0_R_BIT_POS_MASK (1<<(LED_5_0_R%6))
#define LED_5_0_G_BIT_POS_MASK (1<<(LED_5_0_G%6))
#define LED_5_0_B_BIT_POS_MASK (1<<(LED_5_0_B%6))
#define LED_6_0_R_BIT_POS_MASK (1<<(LED_6_0_R%6))
#define LED_6_0_G_BIT_POS_MASK (1<<(LED_6_0_G%6))
#define LED_6_0_B_BIT_POS_MASK (1<<(LED_6_0_B%6))
#define LED_7_0_R_BIT_POS_MASK (1<<(LED_7_0_R%6))
#define LED_7_0_G_BIT_POS_MASK (1<<(LED_7_0_G%6))
#define LED_7_0_B_BIT_POS_MASK (1<<(LED_7_0_B%6))
// sec row
#define LED_0_1_R_BIT_POS_MASK (1<<(LED_0_1_R%6))
#define LED_0_1_G_BIT_POS_MASK (1<<(LED_0_1_G%6))
#define LED_0_1_B_BIT_POS_MASK (1<<(LED_0_1_B%6))
#define LED_1_1_R_BIT_POS_MASK (1<<(LED_1_1_R%6))
#define LED_1_1_G_BIT_POS_MASK (1<<(LED_1_1_G%6))
#define LED_1_1_B_BIT_POS_MASK (1<<(LED_1_1_B%6))
#define LED_2_1_R_BIT_POS_MASK (1<<(LED_2_1_R%6))
#define LED_2_1_G_BIT_POS_MASK (1<<(LED_2_1_G%6))
#define LED_2_1_B_BIT_POS_MASK (1<<(LED_2_1_B%6))
#define LED_3_1_R_BIT_POS_MASK (1<<(LED_3_1_R%6))
#define LED_3_1_G_BIT_POS_MASK (1<<(LED_3_1_G%6))
#define LED_3_1_B_BIT_POS_MASK (1<<(LED_3_1_B%6))
#define LED_4_1_R_BIT_POS_MASK (1<<(LED_4_1_R%6))
#define LED_4_1_G_BIT_POS_MASK (1<<(LED_4_1_G%6))
#define LED_4_1_B_BIT_POS_MASK (1<<(LED_4_1_B%6))
#define LED_5_1_R_BIT_POS_MASK (1<<(LED_5_1_R%6))
#define LED_5_1_G_BIT_POS_MASK (1<<(LED_5_1_G%6))
#define LED_5_1_B_BIT_POS_MASK (1<<(LED_5_1_B%6))
#define LED_6_1_R_BIT_POS_MASK (1<<(LED_6_1_R%6))
#define LED_6_1_G_BIT_POS_MASK (1<<(LED_6_1_G%6))
#define LED_6_1_B_BIT_POS_MASK (1<<(LED_6_1_B%6))
#define LED_7_1_R_BIT_POS_MASK (1<<(LED_7_1_R%6))
#define LED_7_1_G_BIT_POS_MASK (1<<(LED_7_1_G%6))
#define LED_7_1_B_BIT_POS_MASK (1<<(LED_7_1_B%6))
// third row
#define LED_0_2_R_BIT_POS_MASK (1<<(LED_0_2_R%6))
#define LED_0_2_G_BIT_POS_MASK (1<<(LED_0_2_G%6))
#define LED_0_2_B_BIT_POS_MASK (1<<(LED_0_2_B%6))
#define LED_1_2_R_BIT_POS_MASK (1<<(LED_1_2_R%6))
#define LED_1_2_G_BIT_POS_MASK (1<<(LED_1_2_G%6))
#define LED_1_2_B_BIT_POS_MASK (1<<(LED_1_2_B%6))
#define LED_2_2_R_BIT_POS_MASK (1<<(LED_2_2_R%6))
#define LED_2_2_G_BIT_POS_MASK (1<<(LED_2_2_G%6))
#define LED_2_2_B_BIT_POS_MASK (1<<(LED_2_2_B%6))
#define LED_3_2_R_BIT_POS_MASK (1<<(LED_3_2_R%6))
#define LED_3_2_G_BIT_POS_MASK (1<<(LED_3_2_G%6))
#define LED_3_2_B_BIT_POS_MASK (1<<(LED_3_2_B%6))
#define LED_4_2_R_BIT_POS_MASK (1<<(LED_4_2_R%6))
#define LED_4_2_G_BIT_POS_MASK (1<<(LED_4_2_G%6))
#define LED_4_2_B_BIT_POS_MASK (1<<(LED_4_2_B%6))
#define LED_5_2_R_BIT_POS_MASK (1<<(LED_5_2_R%6))
#define LED_5_2_G_BIT_POS_MASK (1<<(LED_5_2_G%6))
#define LED_5_2_B_BIT_POS_MASK (1<<(LED_5_2_B%6))
#define LED_6_2_R_BIT_POS_MASK (1<<(LED_6_2_R%6))
#define LED_6_2_G_BIT_POS_MASK (1<<(LED_6_2_G%6))
#define LED_6_2_B_BIT_POS_MASK (1<<(LED_6_2_B%6))
#define LED_7_2_R_BIT_POS_MASK (1<<(LED_7_2_R%6))
#define LED_7_2_G_BIT_POS_MASK (1<<(LED_7_2_G%6))
#define LED_7_2_B_BIT_POS_MASK (1<<(LED_7_2_B%6))
// 4th row
#define LED_0_3_R_BIT_POS_MASK (1<<(LED_0_3_R%6))
#define LED_0_3_G_BIT_POS_MASK (1<<(LED_0_3_G%6))
#define LED_0_3_B_BIT_POS_MASK (1<<(LED_0_3_B%6))
#define LED_1_3_R_BIT_POS_MASK (1<<(LED_1_3_R%6))
#define LED_1_3_G_BIT_POS_MASK (1<<(LED_1_3_G%6))
#define LED_1_3_B_BIT_POS_MASK (1<<(LED_1_3_B%6))
#define LED_2_3_R_BIT_POS_MASK (1<<(LED_2_3_R%6))
#define LED_2_3_G_BIT_POS_MASK (1<<(LED_2_3_G%6))
#define LED_2_3_B_BIT_POS_MASK (1<<(LED_2_3_B%6))
#define LED_3_3_R_BIT_POS_MASK (1<<(LED_3_3_R%6))
#define LED_3_3_G_BIT_POS_MASK (1<<(LED_3_3_G%6))
#define LED_3_3_B_BIT_POS_MASK (1<<(LED_3_3_B%6))
#define LED_4_3_R_BIT_POS_MASK (1<<(LED_4_3_R%6))
#define LED_4_3_G_BIT_POS_MASK (1<<(LED_4_3_G%6))
#define LED_4_3_B_BIT_POS_MASK (1<<(LED_4_3_B%6))
#define LED_5_3_R_BIT_POS_MASK (1<<(LED_5_3_R%6))
#define LED_5_3_G_BIT_POS_MASK (1<<(LED_5_3_G%6))
#define LED_5_3_B_BIT_POS_MASK (1<<(LED_5_3_B%6))
#define LED_6_3_R_BIT_POS_MASK (1<<(LED_6_3_R%6))
#define LED_6_3_G_BIT_POS_MASK (1<<(LED_6_3_G%6))
#define LED_6_3_B_BIT_POS_MASK (1<<(LED_6_3_B%6))
#define LED_7_3_R_BIT_POS_MASK (1<<(LED_7_3_R%6))
#define LED_7_3_G_BIT_POS_MASK (1<<(LED_7_3_G%6))
#define LED_7_3_B_BIT_POS_MASK (1<<(LED_7_3_B%6))
// 5th row
#define LED_0_4_R_BIT_POS_MASK (1<<(LED_0_4_R%6))
#define LED_0_4_G_BIT_POS_MASK (1<<(LED_0_4_G%6))
#define LED_0_4_B_BIT_POS_MASK (1<<(LED_0_4_B%6))
#define LED_1_4_R_BIT_POS_MASK (1<<(LED_1_4_R%6))
#define LED_1_4_G_BIT_POS_MASK (1<<(LED_1_4_G%6))
#define LED_1_4_B_BIT_POS_MASK (1<<(LED_1_4_B%6))
#define LED_2_4_R_BIT_POS_MASK (1<<(LED_2_4_R%6))
#define LED_2_4_G_BIT_POS_MASK (1<<(LED_2_4_G%6))
#define LED_2_4_B_BIT_POS_MASK (1<<(LED_2_4_B%6))
#define LED_3_4_R_BIT_POS_MASK (1<<(LED_3_4_R%6))
#define LED_3_4_G_BIT_POS_MASK (1<<(LED_3_4_G%6))
#define LED_3_4_B_BIT_POS_MASK (1<<(LED_3_4_B%6))
#define LED_4_4_R_BIT_POS_MASK (1<<(LED_4_4_R%6))
#define LED_4_4_G_BIT_POS_MASK (1<<(LED_4_4_G%6))
#define LED_4_4_B_BIT_POS_MASK (1<<(LED_4_4_B%6))
#define LED_5_4_R_BIT_POS_MASK (1<<(LED_5_4_R%6))
#define LED_5_4_G_BIT_POS_MASK (1<<(LED_5_4_G%6))
#define LED_5_4_B_BIT_POS_MASK (1<<(LED_5_4_B%6))
#define LED_6_4_R_BIT_POS_MASK (1<<(LED_6_4_R%6))
#define LED_6_4_G_BIT_POS_MASK (1<<(LED_6_4_G%6))
#define LED_6_4_B_BIT_POS_MASK (1<<(LED_6_4_B%6))
#define LED_7_4_R_BIT_POS_MASK (1<<(LED_7_4_R%6))
#define LED_7_4_G_BIT_POS_MASK (1<<(LED_7_4_G%6))
#define LED_7_4_B_BIT_POS_MASK (1<<(LED_7_4_B%6))
// 6th row
#define LED_0_5_R_BIT_POS_MASK (1<<(LED_0_5_R%6))
#define LED_0_5_G_BIT_POS_MASK (1<<(LED_0_5_G%6))
#define LED_0_5_B_BIT_POS_MASK (1<<(LED_0_5_B%6))
#define LED_1_5_R_BIT_POS_MASK (1<<(LED_1_5_R%6))
#define LED_1_5_G_BIT_POS_MASK (1<<(LED_1_5_G%6))
#define LED_1_5_B_BIT_POS_MASK (1<<(LED_1_5_B%6))
#define LED_2_5_R_BIT_POS_MASK (1<<(LED_2_5_R%6))
#define LED_2_5_G_BIT_POS_MASK (1<<(LED_2_5_G%6))
#define LED_2_5_B_BIT_POS_MASK (1<<(LED_2_5_B%6))
#define LED_3_5_R_BIT_POS_MASK (1<<(LED_3_5_R%6))
#define LED_3_5_G_BIT_POS_MASK (1<<(LED_3_5_G%6))
#define LED_3_5_B_BIT_POS_MASK (1<<(LED_3_5_B%6))
#define LED_4_5_R_BIT_POS_MASK (1<<(LED_4_5_R%6))
#define LED_4_5_G_BIT_POS_MASK (1<<(LED_4_5_G%6))
#define LED_4_5_B_BIT_POS_MASK (1<<(LED_4_5_B%6))
#define LED_5_5_R_BIT_POS_MASK (1<<(LED_5_5_R%6))
#define LED_5_5_G_BIT_POS_MASK (1<<(LED_5_5_G%6))
#define LED_5_5_B_BIT_POS_MASK (1<<(LED_5_5_B%6))
#define LED_6_5_R_BIT_POS_MASK (1<<(LED_6_5_R%6))
#define LED_6_5_G_BIT_POS_MASK (1<<(LED_6_5_G%6))
#define LED_6_5_B_BIT_POS_MASK (1<<(LED_6_5_B%6))
#define LED_7_5_R_BIT_POS_MASK (1<<(LED_7_5_R%6))
#define LED_7_5_G_BIT_POS_MASK (1<<(LED_7_5_G%6))
#define LED_7_5_B_BIT_POS_MASK (1<<(LED_7_5_B%6))
// 7th Row
#define LED_0_6_R_BIT_POS_MASK (1<<(LED_0_6_R%6))
#define LED_0_6_G_BIT_POS_MASK (1<<(LED_0_6_G%6))
#define LED_0_6_B_BIT_POS_MASK (1<<(LED_0_6_B%6))
#define LED_1_6_R_BIT_POS_MASK (1<<(LED_1_6_R%6))
#define LED_1_6_G_BIT_POS_MASK (1<<(LED_1_6_G%6))
#define LED_1_6_B_BIT_POS_MASK (1<<(LED_1_6_B%6))
#define LED_2_6_R_BIT_POS_MASK (1<<(LED_2_6_R%6))
#define LED_2_6_G_BIT_POS_MASK (1<<(LED_2_6_G%6))
#define LED_2_6_B_BIT_POS_MASK (1<<(LED_2_6_B%6))
#define LED_3_6_R_BIT_POS_MASK (1<<(LED_3_6_R%6))
#define LED_3_6_G_BIT_POS_MASK (1<<(LED_3_6_G%6))
#define LED_3_6_B_BIT_POS_MASK (1<<(LED_3_6_B%6))
#define LED_4_6_R_BIT_POS_MASK (1<<(LED_4_6_R%6))
#define LED_4_6_G_BIT_POS_MASK (1<<(LED_4_6_G%6))
#define LED_4_6_B_BIT_POS_MASK (1<<(LED_4_6_B%6))
#define LED_5_6_R_BIT_POS_MASK (1<<(LED_5_6_R%6))
#define LED_5_6_G_BIT_POS_MASK (1<<(LED_5_6_G%6))
#define LED_5_6_B_BIT_POS_MASK (1<<(LED_5_6_B%6))
#define LED_6_6_R_BIT_POS_MASK (1<<(LED_6_6_R%6))
#define LED_6_6_G_BIT_POS_MASK (1<<(LED_6_6_G%6))
#define LED_6_6_B_BIT_POS_MASK (1<<(LED_6_6_B%6))
#define LED_7_6_R_BIT_POS_MASK (1<<(LED_7_6_R%6))
#define LED_7_6_G_BIT_POS_MASK (1<<(LED_7_6_G%6))
#define LED_7_6_B_BIT_POS_MASK (1<<(LED_7_6_B%6))
// 8th row
#define LED_0_7_R_BIT_POS_MASK (1<<(LED_0_7_R%6))
#define LED_0_7_G_BIT_POS_MASK (1<<(LED_0_7_G%6))
#define LED_0_7_B_BIT_POS_MASK (1<<(LED_0_7_B%6))
#define LED_1_7_R_BIT_POS_MASK (1<<(LED_1_7_R%6))
#define LED_1_7_G_BIT_POS_MASK (1<<(LED_1_7_G%6))
#define LED_1_7_B_BIT_POS_MASK (1<<(LED_1_7_B%6))
#define LED_2_7_R_BIT_POS_MASK (1<<(LED_2_7_R%6))
#define LED_2_7_G_BIT_POS_MASK (1<<(LED_2_7_G%6))
#define LED_2_7_B_BIT_POS_MASK (1<<(LED_2_7_B%6))
#define LED_3_7_R_BIT_POS_MASK (1<<(LED_3_7_R%6))
#define LED_3_7_G_BIT_POS_MASK (1<<(LED_3_7_G%6))
#define LED_3_7_B_BIT_POS_MASK (1<<(LED_3_7_B%6))
#define LED_4_7_R_BIT_POS_MASK (1<<(LED_4_7_R%6))
#define LED_4_7_G_BIT_POS_MASK (1<<(LED_4_7_G%6))
#define LED_4_7_B_BIT_POS_MASK (1<<(LED_4_7_B%6))
#define LED_5_7_R_BIT_POS_MASK (1<<(LED_5_7_R%6))
#define LED_5_7_G_BIT_POS_MASK (1<<(LED_5_7_G%6))
#define LED_5_7_B_BIT_POS_MASK (1<<(LED_5_7_B%6))
#define LED_6_7_R_BIT_POS_MASK (1<<(LED_6_7_R%6))
#define LED_6_7_G_BIT_POS_MASK (1<<(LED_6_7_G%6))
#define LED_6_7_B_BIT_POS_MASK (1<<(LED_6_7_B%6))
#define LED_7_7_R_BIT_POS_MASK (1<<(LED_7_7_R%6))
#define LED_7_7_G_BIT_POS_MASK (1<<(LED_7_7_G%6))
#define LED_7_7_B_BIT_POS_MASK (1<<(LED_7_7_B%6))
/* Bitmask */
#define BIT0_MASK 0x01
#define BIT1_MASK 0x02
#define BIT2_MASK 0x04
#define BIT3_MASK 0x08
#define BIT4_MASK 0x10
#define BIT5_MASK 0x20
#define BIT6_MASK 0x40
#define BIT7_MASK 0x80

/* Prototypes */
extern void init_BAM(void);
extern void process_bam_input(uint8_t src, uint8_t pos);
extern void transmit_BAM_step(void);
extern void process_bam(uint8_t *ptr_buffer);
extern void switch_bam_pointer(void);
extern void start_timer(void);
extern void reset_BAM(void);

#endif /* BAM_H_ */
